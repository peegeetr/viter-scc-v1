RewriteEngine On
# use for authentication
RewriteCond %{HTTP:Authorization} ^(.+)$
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f

Header set Access-Control-Allow-Origin *
 
#role
RewriteRule ^roles$ controllers/settings/user/role/role.php [L]
RewriteRule ^roles/([0-9]+)$ controllers/settings/user/role/role.php?roleid=$1 [L]
RewriteRule ^roles/active/([0-9]+)$ controllers/settings/user/role/active.php?roleid=$1 [L]
 
#SETTINGS USER SYSTEM
RewriteRule ^user-systems$ controllers/settings/user/system/system.php [L]
RewriteRule ^user-systems/([0-9]+)$ controllers/settings/user/system/system.php?usersystemid=$1 [L]
RewriteRule ^user-systems/active/([0-9]+)$ controllers/settings/user/system/active.php?usersystemid=$1 [L] 
RewriteRule ^user-systems/reset$ controllers/settings/user/system/reset.php [L] 
RewriteRule ^user-systems/key/([A-Za-z0-9-]+)$ controllers/settings/user/system/key.php?usersystemkey=$1 [L]
RewriteRule ^user-systems/password$ controllers/settings/user/system/set-password.php [L]
RewriteRule ^user-systems/login$ controllers/settings/user/system/login.php [L]
RewriteRule ^user-systems/token$ controllers/settings/user/system/token.php [L]

#SETTINGS USER OTHER
RewriteRule ^user-others$ controllers/settings/user/other/other.php [L]
RewriteRule ^user-others/([0-9]+)$ controllers/settings/user/other/other.php?userotherid=$1 [L]
RewriteRule ^user-others/active/([0-9]+)$ controllers/settings/user/other/active.php?userotherid=$1 [L] 
RewriteRule ^user-others/reset$ controllers/settings/user/other/reset.php [L] 
RewriteRule ^user-others/key/([A-Za-z0-9-]+)$ controllers/settings/user/other/key.php?userotherkey=$1 [L]
RewriteRule ^user-others/password$ controllers/settings/user/other/set-password.php [L]
RewriteRule ^user-others/login$ controllers/settings/user/other/login.php [L]
RewriteRule ^user-others/token$ controllers/settings/user/other/token.php [L]
RewriteRule ^user-others/sign-up$ controllers/settings/user/other/sign-up.php [L]
RewriteRule ^user-others/page/([0-9]+)$ controllers/settings/user/other/page.php?start=$1 [L]
RewriteRule ^user-others/search/([A-Za-z0-9-]+)$ controllers/settings/user/other/search.php?search=$1 [L]
  
#announcement or dashboard
RewriteRule ^announcement$ controllers/dashboard/dashboard.php [L]
RewriteRule ^announcement/([0-9]+)$ controllers/dashboard/dashboard.php?announcementid=$1 [L]
RewriteRule ^announcement/active/([0-9]+)$ controllers/dashboard/active.php?announcementid=$1 [L]
RewriteRule ^announcement/page/([0-9]+)$ controllers/dashboard/page.php?start=$1 [L]
RewriteRule ^announcement/search/([A-Za-z0-9-]+)$ controllers/dashboard/search.php?search=$1 [L]
RewriteRule ^announcement/member/page/([0-9]+)$ controllers/dashboard/member-page.php?start=$1 [L]
RewriteRule ^announcement/member/search/([A-Za-z0-9-]+)$ controllers/dashboard/search-all-active.php?search=$1 [L]
  
#members
RewriteRule ^members$ controllers/account/account.php [L]
RewriteRule ^members/([0-9]+)$ controllers/account/account.php?membersid=$1 [L]
RewriteRule ^members/status/([0-9]+)$ controllers/account/status.php?membersid=$1 [L]
RewriteRule ^members/page/([0-9]+)$ controllers/account/page.php?start=$1 [L]
RewriteRule ^member/page/([0-9]+)/([A-Za-z0-9-]+)$ controllers/account/page.php?start=$1&approved=$2 [L]
RewriteRule ^members/search/([A-Za-z0-9-]+)$ controllers/account/search.php?search=$1 [L]
RewriteRule ^members/approved$ controllers/account/read-all-approved.php [L]
RewriteRule ^members/search/approved/([A-Za-z0-9-]+)$ controllers/account/search-approved.php?search=$1 [L]
RewriteRule ^members/([0-9]+)/([A-Za-z0-9-]+)$ controllers/account/account.php?membersid=$1&isUpdate=$2 [L]
RewriteRule ^members/name/([0-9]+)$ controllers/account/read-name.php?membersid=$1 [L]

#beneficiaries
RewriteRule ^beneficiaries$ controllers/account/details/beneficiaries/beneficiaries.php [L]
RewriteRule ^beneficiaries/([0-9]+)$ controllers/account/details/beneficiaries/beneficiaries.php?beneficiariesid=$1 [L] 

#savings
RewriteRule ^savings$ controllers/account/details/savings/savings.php [L]
RewriteRule ^savings/([0-9]+)$ controllers/account/details/savings/savings.php?savingsid=$1 [L] 
RewriteRule ^savings/page/([0-9]+)/([0-9]+)$ controllers/account/details/savings/page.php?start=$1&membersid=$2 [L]
RewriteRule ^savings/search/([A-Za-z0-9-]+)/([0-9]+)$ controllers/account/details/savings/search.php?search=$1&membersid=$2 [L]

#capital share
RewriteRule ^capital-share$ controllers/account/details/capital-share/capitalShare.php [L]
RewriteRule ^capital-share/([0-9]+)$ controllers/account/details/capital-share/capitalShare.php?shareid=$1 [L] 
RewriteRule ^capital-share/page/([0-9]+)/([0-9]+)$ controllers/account/details/capital-share/page.php?start=$1&membersid=$2 [L]
RewriteRule ^capital-share/search/([A-Za-z0-9-]+)/([0-9]+)$ controllers/account/details/capital-share/search.php?search=$1&membersid=$2 [L]

#patronage
RewriteRule ^patronage/page/by-employee-id/([0-9]+)/([0-9]+)$ controllers/account/details/patronage/page-by-employee-id.php?start=$1&membersid=$2 [L]
RewriteRule ^patronage/active/([0-9]+)$ controllers/account/details/patronage/active.php?orderid=$1 [L]
RewriteRule ^patronage/search/by-employee-id/([A-Za-z0-9-]+)/([0-9]+)$ controllers/account/details/patronage/search-by-employee-id.php?search=$1&membersid=$2 [L]
RewriteRule ^patronage/filter/by-employee-id/([A-Za-z0-9-]+)/([A-Za-z0-9-]+)/([0-9]+)$ controllers/account/details/patronage/filter-by-employee-id.php?startDate=$1&endDate=$2&membersid=$3 [L]

#files
RewriteRule ^file$ controllers/files/files.php [L]
RewriteRule ^file/([0-9]+)$ controllers/files/files.php?fileid=$1 [L] 
RewriteRule ^file/page/([0-9]+)$ controllers/files/page.php?start=$1 [L]
RewriteRule ^file/search/([A-Za-z0-9-]+)$ controllers/files/search.php?search=$1 [L]

#products 
RewriteRule ^product/page/([0-9]+)$ controllers/inventory/products/page.php?start=$1 [L]
RewriteRule ^product/([0-9]+)$ controllers/inventory/products/update-price.php?supplierProductsId=$1 [L]  

#stocks
RewriteRule ^stocks$ controllers/inventory/stocks/stocks.php [L]
RewriteRule ^stocks/([0-9]+)$ controllers/inventory/stocks/stocks.php?stockid=$1 [L] 
RewriteRule ^stocks/active/([0-9]+)$ controllers/inventory/stocks/active.php?stockid=$1 [L]
RewriteRule ^stocks/page/([0-9]+)$ controllers/inventory/stocks/page.php?start=$1 [L]
RewriteRule ^stocks/search/([A-Za-z0-9-]+)$ controllers/inventory/stocks/search.php?search=$1 [L]
RewriteRule ^stocks/group-by-prod$ controllers/inventory/stocks/group-by-product-number.php [L]

#Net Surplus
RewriteRule ^net-surplus$ controllers/settings/net-surplus/net-surplus.php [L]
RewriteRule ^net-surplus/([0-9]+)$ controllers/settings/net-surplus/net-surplus.php?netId=$1 [L] 
RewriteRule ^net-surplus/page/([0-9]+)$ controllers/settings/net-surplus/page.php?start=$1 [L]
RewriteRule ^net-surplus/search/([A-Za-z0-9-]+)$ controllers/settings/net-surplus/search.php?search=$1 [L]

#category 
RewriteRule ^category$ controllers/inventory/category/category.php [L]
RewriteRule ^category/([0-9]+)$ controllers/inventory/category/category.php?categoryid=$1 [L]
RewriteRule ^category/active/([0-9]+)$ controllers/inventory/category/active.php?categoryid=$1 [L]
RewriteRule ^category/page/([0-9]+)$ controllers/inventory/category/page.php?start=$1 [L]
RewriteRule ^category/search/([A-Za-z0-9-]+)$ controllers/inventory/category/search.php?search=$1 [L]

#ORDERS 
RewriteRule ^orders$ controllers/inventory/orders/orders.php [L]
RewriteRule ^orders/([0-9]+)$ controllers/inventory/orders/orders.php?orderid=$1 [L]
RewriteRule ^orders/active/([0-9]+)$ controllers/inventory/orders/active.php?orderid=$1 [L]
RewriteRule ^orders/page/([0-9]+)$ controllers/inventory/orders/page.php?start=$1 [L]
RewriteRule ^orders/search/([A-Za-z0-9-]+)$ controllers/inventory/orders/search.php?search=$1 [L]
RewriteRule ^orders/group-by-prod$ controllers/inventory/orders/group-by-product-number.php [L]
RewriteRule ^orders/invoice/page/([0-9]+)$ controllers/inventory/orders/invoice-page.php?start=$1 [L]
RewriteRule ^orders/invoice/search/([A-Za-z0-9-]+)$ controllers/inventory/orders/invoice-search.php?search=$1 [L]
RewriteRule ^orders/pending/by-member-id/([0-9]+)$ controllers/inventory/orders/pending-by-member-id.php?memberId=$1 [L]
RewriteRule ^orders/all-pending$ controllers/inventory/orders/pending-order.php [L]
   
#suppliers 
RewriteRule ^suppliers$ controllers/inventory/suppliers/suppliers.php [L]
RewriteRule ^suppliers/([0-9]+)$ controllers/inventory/suppliers/suppliers.php?supplierid=$1 [L]
RewriteRule ^suppliers/active/([0-9]+)$ controllers/inventory/suppliers/active.php?supplierid=$1 [L]
RewriteRule ^suppliers/page/([0-9]+)$ controllers/inventory/suppliers/page.php?start=$1 [L]
RewriteRule ^suppliers/search/([A-Za-z0-9-]+)$ controllers/inventory/suppliers/search.php?search=$1 [L]
  
#suppliers product
RewriteRule ^suppliers-product$ controllers/inventory/suppliers/product/suppliers-product.php [L]
RewriteRule ^suppliers-product/([0-9]+)$ controllers/inventory/suppliers/product/suppliers-product.php?supplierProductsid=$1 [L] 
RewriteRule ^suppliers-product/update/([0-9]+)$ controllers/inventory/suppliers/product/update-price.php?supplierProductsid=$1 [L] 
RewriteRule ^suppliers-product/by-supplier-product-id/([0-9]+)$ controllers/inventory/suppliers/product/supplier-product-by-id.php?supplierProductsid=$1 [L] 
RewriteRule ^suppliers-product/page/supplier-id/([0-9]+)/([0-9]+)$ controllers/inventory/suppliers/product/read-by-supplier-id.php?start=$1&supplierid=$2 [L]
RewriteRule ^suppliers-product/read-supplier-id/([0-9]+)$ controllers/inventory/suppliers/product/read-by-supplier-id.php?supplierid=$1 [L]
RewriteRule ^suppliers-product/page/([0-9]+)$ controllers/inventory/suppliers/product/page.php?start=$1 [L]
RewriteRule ^suppliers-product/search/([A-Za-z0-9-]+)$ controllers/inventory/suppliers/product/search.php?search=$1 [L]
RewriteRule ^suppliers-product/read-category-id/([0-9]+)$ controllers/inventory/suppliers/product/read-by-category-id.php?categoryid=$1 [L]
 
#sales 
RewriteRule ^sales$ controllers/inventory/sales/sales.php [L]
RewriteRule ^sales/([0-9]+)$ controllers/inventory/sales/sales.php?salesid=$1 [L]
RewriteRule ^sales/active/([0-9]+)$ controllers/inventory/sales/active.php?salesid=$1 [L]
RewriteRule ^sales/page/([0-9]+)$ controllers/inventory/sales/page.php?start=$1 [L]
RewriteRule ^sales/search/([A-Za-z0-9-]+)$ controllers/inventory/sales/search.php?search=$1 [L]
RewriteRule ^sales/search/([A-Za-z0-9-]+)$ controllers/inventory/sales/search.php?search=$1 [L]
RewriteRule ^sales/report/top-seller/([0-9]+)/([A-Za-z0-9-]+)$ controllers/inventory/sales/report-top-seller.php?start=$1&month=$2 [L] 
RewriteRule ^sales/report/filter/top-seller/([A-Za-z0-9-]+)$ controllers/inventory/sales/report-top-seller.php?month=$1 [L]
RewriteRule ^sales/report/all-pending-and-paid/([A-Za-z0-9-]+)$ controllers/inventory/sales/read-all-pending-and-paid.php?month=$1 [L]

#upload Photo
RewriteRule ^member/upload/photo$ core/upload-photo.php [L]

#my-order
RewriteRule ^my-order/page/by-member-id/([0-9]+)/([0-9]+)$ controllers/account/details/my-order/page-by-member-id.php?start=$1&membersid=$2 [L]
RewriteRule ^my-order/active/([0-9]+)$ controllers/account/details/my-order/active.php?orderid=$1 [L]
RewriteRule ^my-order/search/by-member-id/([A-Za-z0-9-]+)/([0-9]+)$ controllers/account/details/my-order/search-by-member-id.php?search=$1&membersid=$2 [L]
RewriteRule ^my-order/filter/by-member-id/([A-Za-z0-9-]+)/([A-Za-z0-9-]+)/([0-9]+)$ controllers/account/details/my-order/filter-by-member-id.php?startDate=$1&endDate=$2&membersid=$3 [L]
 
#SETTINGS SYSTEM MODE
RewriteRule ^system-maintenance$ controllers/settings/system-maintenance/system-mode.php [L]
RewriteRule ^system-maintenance/([0-9]+)$ controllers/settings/system-maintenance/system-mode.php?systemModeId=$1 [L]
RewriteRule ^system-maintenance/active/([0-9]+)$ controllers/settings/system-maintenance/active.php?systemModeId=$1 [L]
RewriteRule ^system-maintenance/maintenance$ controllers/settings/system-maintenance/read-maintenance-on.php [L]